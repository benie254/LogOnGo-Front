<form #incidentForm="ngForm" (ngSubmit)="incidentReport(incidentForm.value)">
  <h2 class="text-center">Report an incident</h2>
  <div class="form-group hide">
    <input type="text" class="" name="name" ngModel [(ngModel)]="currentUser.username">
    <input type="email" name="email" ngModel [(ngModel)]="currentUser.email">
  </div>
  <div class="row">
    <div class="col-md-6 padding">
      <mat-form-field appearance="fill" class="padding-2 full-width" style="margin-top:1.5%;">
        <mat-label> Select Nature </mat-label>
        <mat-select name="nature" ngModel #nature="ngModel" required>
          <mat-option value="emergency" ngModel name="emergency" type="text">EMERGENCY</mat-option>
          <mat-option value="injury" ngModel name="injury" type="text">Physical Injury</mat-option>
          <mat-option value="equipment" ngModel name="equipment" type="text">Equipment Failure</mat-option>
        </mat-select>
        <mat-hint>e.g.: EMERGENCY</mat-hint>
        <mat-error *ngIf="nature.hasError('required') || nature.pristine">
          Nature is <strong>required</strong>
        </mat-error>
      </mat-form-field>
    </div>
    <div class="col-md-6 padding">
      <mat-form-field appearance="fill" class="padding-2 full-width" style="margin-top:1.5%;">
        <mat-label>Date</mat-label>
        <input matInput placeholder="Incident date" name="date" #date="ngModel" ngModel type="date" required>
        <mat-icon matSuffix>date</mat-icon>
        <mat-hint>e.g.: EMERGENCY</mat-hint>
        <mat-error *ngIf="date.hasError('required') || date.pristine">
          Incident date is <strong>required</strong>
        </mat-error>
      </mat-form-field> 
    </div>   
  </div>
  <br>
  <mat-form-field appearance="fill" class="padding-2 full-width">
    <mat-label>Description</mat-label>
    <textarea placeholder="Describe the incident here..." matInput name="description" ngModel #description="ngModel" minlength="16" maxlength="5000" required></textarea>
    <mat-icon matSuffix>mail</mat-icon>
    <mat-hint>e.g: Inquiry</mat-hint>
    <mat-error *ngIf="description.hasError('required') || description.pristine">
      Description is <strong>required</strong>
    </mat-error>
    <mat-error *ngIf="description.hasError('minlength')">
      Description should be <strong>at least 16 characters</strong> 
    </mat-error>
    <mat-error *ngIf="description.hasError('maxlength')">
      Description should <strong>not exceed 5000 characters</strong> 
    </mat-error>
  </mat-form-field> 
  <br><br>
  <div class="form-group text-center">
    <button class="margin-top w-75" color="accent" mat-raised-button type="submit" [disabled]="incidentForm.invalid"><i class="fa-solid fa-flag"></i> Report</button>
  </div>
</form>
  