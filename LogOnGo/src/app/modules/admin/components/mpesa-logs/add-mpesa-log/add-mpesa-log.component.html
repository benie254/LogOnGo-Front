<form  #addMpesaForm="ngForm" (submit)="addLog(addMpesaForm.value)" id="addMpesaForm" class="padding-2 bg-light rounded shadow">
    <h5 class="">Add Mpesa Log Details</h5><br>
    
            <mat-form-field appearance="outline">
                <mat-label>Select Fuel Id </mat-label>
                <mat-select name="fuel" ngModel #fuel="ngModel" required>
                  <mat-option *ngFor="let f of fuels"  value="{{f.id}}" name="fuel" ngModel #fuel="ngModel" type="number">{{f.fuel_type}}</mat-option>
                </mat-select>
                <mat-error *ngIf="fuel.hasError('required') || fuel.pristine">
                  Date is <strong>required</strong>
                </mat-error>
              </mat-form-field>&nbsp;&nbsp;&nbsp;
                <mat-form-field  appearance="outline">
                    <mat-label>Date</mat-label>
                    <input matInput name="date" #date="ngModel" ngModel type="date" required>
                    <mat-error *ngIf="date.hasError('required') || date.pristine">
                      Date is <strong>required</strong>
                    </mat-error>
                  </mat-form-field>  &nbsp;&nbsp;&nbsp;
                    <mat-form-field appearance="outline">
                      <mat-label>Formatted Date</mat-label>
                      <input matInput name="long_date" ngModel #long_date="ngModel" type="text" [(ngModel)]="tdate" required>
                      <mat-error *ngIf="long_date.hasError('required') || long_date.pristine">
                        Formatted date is <strong>required</strong>
                      </mat-error>
                    </mat-form-field><br>
                    <mat-form-field appearance="outline" class="">
                        <mat-label>Transaction Number</mat-label>
                        <input matInput name="transaction_no" #transaction_no="ngModel" ngModel type="text" required>
                        <mat-error *ngIf="transaction_no.hasError('required') || transaction_no.pristine">
                          Transaction number is <strong>required</strong>
                        </mat-error>
                      </mat-form-field> &nbsp;&nbsp;&nbsp;
                    <mat-form-field appearance="outline" class="">
                        <mat-label>Customer Name</mat-label>
                        <input matInput name="customer" #customer="ngModel" ngModel type="text" required>
                        <mat-error *ngIf="customer.hasError('required') || customer.pristine">
                          Customer name is <strong>required</strong>
                        </mat-error>
                      </mat-form-field> &nbsp;&nbsp;&nbsp;
                    <mat-form-field appearance="outline" class="">
                        <mat-label>Customer Phone No.</mat-label>
                        <input matInput placeholder="e.g 712345678" name="customer_no" #customer_no="ngModel" ngModel type="number" required min="99999999" max="999999999">
                        <mat-error *ngIf="customer_no.hasError('min')">
                            Phone number should be <strong>at least 9 digits</strong>
                        </mat-error>
                        <mat-error *ngIf="customer_no.hasError('max')">
                            Phone number should <strong>not exceed 9 digits</strong>
                        </mat-error>
                        <mat-error *ngIf="customer_no.hasError('required') || customer_no.pristine">
                          Customer phone number is <strong>required</strong>
                        </mat-error>
                      </mat-form-field> <br>
                    <mat-form-field appearance="outline">
                        <mat-label>Bank Amount</mat-label>
                        <input matInput placeholder="Bank Amount" [(ngModel)]="default" name="to_bank" #to_bank="ngModel" ngModel type="number" required>
                        <mat-icon matSuffix></mat-icon>
                        <mat-hint>e.g <strong>1200</strong></mat-hint>
                        <mat-error *ngIf="to_bank.hasError('required') || to_bank.pristine">
                          Bank amount is <strong>required</strong>
                        </mat-error>
                      </mat-form-field> &nbsp;&nbsp;&nbsp;
        
              <mat-form-field appearance="outline" >
                  <mat-label>Amount</mat-label>
                  <input matInput placeholder="Enter amount" name="amount" #amount="ngModel" ngModel type="number" required>
                  <mat-hint>e.g <strong>1200</strong></mat-hint>
                  <mat-error *ngIf="amount.hasError('required') || amount.pristine">
                    Amount is <strong>required</strong>
                  </mat-error> 
                  </mat-form-field><br>
                <mat-form-field appearance="outline" >
                    <mat-label>Logged By</mat-label>
                    <input matInput name="logged_by" #logged_by="ngModel" ngModel type="text" [(ngModel)]="currentUser.username" required>
                    <mat-error *ngIf="logged_by.hasError('required') || logged_by.pristine">
                      This field is <strong>required</strong>
                    </mat-error> 
                  </mat-form-field>  
                  &nbsp;&nbsp;&nbsp; 
           
                  <mat-form-field appearance="outline">
                    <mat-label>Select Your User Id </mat-label>
                    
                    <mat-select name="user" ngModel #user="ngModel" >
                      <mat-option *ngFor="let a of admins"  value="{{a.id}}" name="user" ngModel #user="ngModel" type="number">{{a.username}}</mat-option>
                    </mat-select>
                  </mat-form-field>  
           
    
        <div class="form-group">
            <button type="submit" style="margin-top:1%;" mat-raised-button color="accent" [disabled]="addMpesaForm.invalid" (click)="reload()">Save</button> &nbsp;&nbsp; <button type="submit" (click)="reset();" style="margin-top:1%;" mat-flat-button color="accent" [disabled]="addMpesaForm.invalid">Save and add another</button>
        </div>
    </form>