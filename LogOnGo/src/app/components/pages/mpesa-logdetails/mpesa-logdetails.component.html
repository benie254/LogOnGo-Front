<div class="container-fluid rounded">
        <div class="row padding">
          <div class="col-sm-1"></div>
            <div class="full-height bg-light col-lg-10 center color-four rounded black padding-2">
                <h2>Mpesa Details </h2>
                <h6></h6>
                <div class="card color-two">
                    <h5 class="card-header"><span class="" style="float:left;"><a routerLink="/mpesa-report/{{mpesaDetails.id}}"><button class=" margin-top btn btn-sm btn-light btn-outline-primary">Print <i class="fa-solid fa-print"></i></button></a></span> {{mpesaDetails.date}} <span style="float:right;"><a routerLink="/email-mpesa-report/{{mpesaDetails.id}}" type="button" class="btn btn-sm btn-light btn-outline-primary"> <i class="fa-solid fa-paper-plane"></i> email</a></span></h5>
                    
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table">
                                <thead>
                                  <tr>
                                    <th scope="col">Transaction no.</th>
                                    <th scope="col">Customer name</th>
                                    <th scope="col">Customer phone number</th>
                                    <th scope="col">Amount</th>
                                    <th scope="col">Bank amount</th>
                                    <th scope="col">Daily total</th>
                                    <th scope="col">Cumulative amount</th>
                                  </tr>
                                </thead>
                                <tbody>
                                  <tr>
                                    <td>{{mpesaDetails.transaction_number}}</td>
                                    <td>{{mpesaDetails.customer_name}}</td>
                                    <td>{{mpesaDetails.customer_phone_number}}</td>
                                    <td>{{mpesaDetails.amount}}</td>
                                    <td>{{mpesaDetails.amount_transferred_to_bank}}</td>
                                    <td>{{mpesaDetails.daily_total}}</td>
                                    <td>{{mpesaDetails.cumulative_amount}}</td>
                                  </tr>
                                </tbody>
                              </table>
                        </div>
                        <div class="card-footer">
                            <small class="">First logged by {{mpesaDetails.logged_by}} on {{mpesaDetails.first_logged | date: 'medium'}} </small>
                        </div>
                        <p class="margin-top"><a type="button" class="btn btn-sm btn-light btn-outline-primary" (click)="reportWarn()"><i class="fa-solid fa-pen-to-square"></i> details </a> <span *ngIf="mpesaDetails.first_logged != mpesaDetails.last_edited"><small> >>> Last edited on {{mpesaDetails.last_edited | date: 'medium'}}</small></span></p>
                    </div>
                    
                    <div *ngIf="!closed">
                      <form *ngIf="updateConfirmed" [formGroup]="updateForm" (ngSubmit)="updateMpesaDetails()">
                        <span style="float:right;" (click)="toggleUpdateForm()" type="button" class="btn btn-light btn-outline-danger"><i class="fa-solid fa-rectangle-xmark"></i></span>
                        <div class="row">
                            <div class="col">
                                <label for="date" class="">Mpesa date</label>
                                <input type="date" #date class="Aj form-control" id="date" formControlName="date" placeholder="Date" [(ngModel)]="mpesaDetails.date" required>
                                
                            </div>
                            <div class="col">
                                <label for="transaction_number">Transaction number</label>
                                <input type="text" class="Aj form-control" id="transaction_number" formControlName="transaction_number" placeholder="transaction_number" [(ngModel)]="mpesaDetails.transaction_number" required>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col">
                                <label for="customer_name" class="">customer_name</label>
                                <input type="text" #date class="Aj form-control" id="customer_name" formControlName="customer_name" placeholder="customer_name" [(ngModel)]="mpesaDetails.customer_name" required>
                                
                            </div>
                            <div class="col">
                                <label for="customer_phone_number">customer_phone_number</label>
                                <input type="number" class="Aj form-control" id="customer_phone_number" formControlName="customer_phone_number" placeholder="customer_phone_number" [(ngModel)]="mpesaDetails.customer_phone_number" required>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col">
                                <label for="amount" class="">amount</label>
                                <input type="number" #date class="Aj form-control" id="amount" formControlName="amount" placeholder="amount" [(ngModel)]="mpesaDetails.amount" required>
                                
                            </div>
                            <div class="col">
                                <label for="amount_transferred_to_bank">amount_transferred_to_bank</label>
                                <input type="number" class="Aj form-control" id="amount_transferred_to_bank" formControlName="amount_transferred_to_bank" placeholder="amount_transferred_to_bank" [(ngModel)]="mpesaDetails.amount_transferred_to_bank" required>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <button class="btn margin btn-sm btn-outline-primary btn-dark" type="submit">Update log</button>
                        </div> 
                    </form> 
                    </div>
                </div>
            </div>
        </div>  
        <div class="col-sm-1"></div>
    </div>
<app-footer></app-footer>